---
---

<section id="key-movements" class="py-16 md:py-20 bg-white w-full">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 w-full">
    <div class="text-center mb-12 md:mb-16">
      <h3 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-4 md:mb-6 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
        Key Movements
      </h3>
      <p class="text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed font-medium px-4">
        Capturing moments that shape the future of capital markets and investment strategy
      </p>
    </div>

    <!-- Enhanced Horizontal Gallery -->
    <div class="relative max-w-7xl mx-auto px-4">
      <!-- Decorative Background -->
      <div class="absolute inset-0 bg-gradient-to-r from-blue-50/30 via-purple-50/30 to-pink-50/30 rounded-3xl blur-3xl"></div>
      
      <!-- Navigation Buttons -->
      <button id="prevBtn" class="absolute left-2 top-1/2 transform -translate-y-1/2 z-20 bg-white/95 hover:bg-white text-gray-800 rounded-full w-14 h-14 flex items-center justify-center shadow-xl hover:shadow-2xl transition-all duration-300 text-2xl font-bold hover:scale-110 border border-gray-200">
        ‹
      </button>
      <button id="nextBtn" class="absolute right-2 top-1/2 transform -translate-y-1/2 z-20 bg-white/95 hover:bg-white text-gray-800 rounded-full w-14 h-14 flex items-center justify-center shadow-xl hover:shadow-2xl transition-all duration-300 text-2xl font-bold hover:scale-110 border border-gray-200">
        ›
      </button>

      <!-- Gallery Container -->
      <div class="relative overflow-hidden rounded-2xl bg-white/80 backdrop-blur-sm border border-white/20 shadow-2xl">
        <div id="galleryContainer" class="flex gap-8 p-8 transition-transform duration-700 ease-out">
          <div class="flex-shrink-0 w-80 h-64 rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 cursor-pointer group" data-index="0">
            <div class="relative w-full h-full">
              <img src="/photos/IMG_8334.jpeg" alt="Key Movement 1" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
              <div class="absolute bottom-4 left-4 text-white opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0">
                <h4 class="text-lg font-semibold">Strategic Meeting</h4>
                <p class="text-sm text-gray-200">Capital Markets Insight</p>
              </div>
            </div>
          </div>
          <div class="flex-shrink-0 w-80 h-64 rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 cursor-pointer group" data-index="1">
            <div class="relative w-full h-full">
              <img src="/photos/IMG_8331.jpeg" alt="Key Movement 2" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
              <div class="absolute bottom-4 left-4 text-white opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0">
                <h4 class="text-lg font-semibold">Investment Forum</h4>
                <p class="text-sm text-gray-200">Market Analysis</p>
              </div>
            </div>
          </div>
          <div class="flex-shrink-0 w-80 h-64 rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 cursor-pointer group" data-index="2">
            <div class="relative w-full h-full">
              <img src="/photos/DSCF5730.jpg" alt="Key Movement 3" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
              <div class="absolute bottom-4 left-4 text-white opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0">
                <h4 class="text-lg font-semibold">Executive Roundtable</h4>
                <p class="text-sm text-gray-200">Leadership Discussion</p>
              </div>
            </div>
          </div>
          <div class="flex-shrink-0 w-80 h-64 rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 cursor-pointer group" data-index="3">
            <div class="relative w-full h-full">
              <img src="/photos/DSCF5543.jpg" alt="Key Movement 4" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
              <div class="absolute bottom-4 left-4 text-white opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0">
                <h4 class="text-lg font-semibold">Industry Summit</h4>
                <p class="text-sm text-gray-200">Global Perspectives</p>
              </div>
            </div>
          </div>
          <div class="flex-shrink-0 w-80 h-64 rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 cursor-pointer group" data-index="4">
            <div class="relative w-full h-full">
              <img src="/photos/Fireside chat with Enrico Giovannini.jpg" alt="Key Movement 5" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
              <div class="absolute bottom-4 left-4 text-white opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0">
                <h4 class="text-lg font-semibold">Fireside Chat</h4>
                <p class="text-sm text-gray-200">Enrico Giovannini</p>
              </div>
            </div>
          </div>
          <div class="flex-shrink-0 w-80 h-64 rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 cursor-pointer group" data-index="5">
            <div class="relative w-full h-full">
              <img src="/photos/Fireside Chat_Conor.jpg" alt="Key Movement 6" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
              <div class="absolute bottom-4 left-4 text-white opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0">
                <h4 class="text-lg font-semibold">Fireside Chat</h4>
                <p class="text-sm text-gray-200">Conor</p>
              </div>
            </div>
          </div>
          <div class="flex-shrink-0 w-80 h-64 rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 cursor-pointer group" data-index="6">
            <div class="relative w-full h-full">
              <img src="/photos/Family offices approaches towards alternative assets.jpg" alt="Key Movement 7" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
              <div class="absolute bottom-4 left-4 text-white opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0">
                <h4 class="text-lg font-semibold">Family Offices</h4>
                <p class="text-sm text-gray-200">Alternative Assets</p>
              </div>
            </div>
          </div>
          <div class="flex-shrink-0 w-80 h-64 rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 cursor-pointer group" data-index="7">
            <div class="relative w-full h-full">
              <img src="/photos/Sustainability Case Studies-Ion Influencers Event.jpg" alt="Key Movement 8" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
              <div class="absolute bottom-4 left-4 text-white opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0">
                <h4 class="text-lg font-semibold">Sustainability Event</h4>
                <p class="text-sm text-gray-200">Case Studies</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Enhanced Modal -->
  <div id="imageModal" class="fixed inset-0 bg-black/95 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
    <div class="relative w-full h-full flex items-center justify-center">
      <!-- Close Button -->
      <button id="closeModalBtn" class="absolute top-4 right-4 text-white text-5xl hover:text-gray-300 z-20 transition-all duration-300 hover:scale-110 bg-black/50 rounded-full w-12 h-12 flex items-center justify-center backdrop-blur-sm">
        &times;
      </button>
      
      <!-- Navigation Buttons -->
      <button id="modalPrevBtn" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-4xl hover:text-gray-300 z-20 bg-black/60 hover:bg-black/80 rounded-full w-16 h-16 flex items-center justify-center backdrop-blur-sm transition-all duration-300 hover:scale-110">
        ‹
      </button>
      <button id="modalNextBtn" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-4xl hover:text-gray-300 z-20 bg-black/60 hover:bg-black/80 rounded-full w-16 h-16 flex items-center justify-center backdrop-blur-sm transition-all duration-300 hover:scale-110">
        ›
      </button>
      
      <!-- Image Container -->
      <div class="relative w-full h-full flex items-center justify-center p-8">
        <img id="modalImage" src="" alt="Modal Image" class="max-w-full max-h-full object-contain rounded-lg shadow-2xl" />
      </div>
      
      <!-- Image Counter -->
      <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-lg font-medium bg-black/50 px-4 py-2 rounded-full backdrop-blur-sm">
        <span id="imageCounter">1</span> / <span id="totalImages">8</span>
      </div>
    </div>
  </div>

  <script>
    const images = [
      '/photos/IMG_8334.jpeg',
      '/photos/IMG_8331.jpeg',
      '/photos/DSCF5730.jpg',
      '/photos/DSCF5543.jpg',
      '/photos/Fireside chat with Enrico Giovannini.jpg',
      '/photos/Fireside Chat_Conor.jpg',
      '/photos/Family offices approaches towards alternative assets.jpg',
      '/photos/Sustainability Case Studies-Ion Influencers Event.jpg'
    ];
    
    let currentPosition = 0;
    let modalCurrentIndex = 0;
    const itemWidth = 320 + 24; // width + gap

    function updateGallery() {
      const container = document.getElementById('galleryContainer');
      if (container) {
        container.style.transform = `translateX(-${currentPosition * itemWidth}px)`;
      }
    }

    function nextSlide() {
      const container = document.getElementById('galleryContainer');
      if (container) {
        const maxPosition = Math.max(0, container.children.length - Math.floor(container.offsetWidth / itemWidth));
        currentPosition = Math.min(currentPosition + 1, maxPosition);
        updateGallery();
      }
    }

    function prevSlide() {
      currentPosition = Math.max(currentPosition - 1, 0);
      updateGallery();
    }

    function openModal(index: number) {
      modalCurrentIndex = index;
      const modalImage = document.getElementById('modalImage') as HTMLImageElement;
      const imageModal = document.getElementById('imageModal');
      const imageCounter = document.getElementById('imageCounter');
      
      if (modalImage && imageModal) {
        modalImage.src = images[index];
        imageModal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
        
        if (imageCounter) {
          imageCounter.textContent = (index + 1).toString();
        }
      }
    }

    function closeModal() {
      const imageModal = document.getElementById('imageModal');
      if (imageModal) {
        imageModal.classList.add('hidden');
        document.body.style.overflow = 'auto';
      }
    }

    function nextImage() {
      modalCurrentIndex = (modalCurrentIndex + 1) % images.length;
      const modalImage = document.getElementById('modalImage') as HTMLImageElement;
      const imageCounter = document.getElementById('imageCounter');
      
      if (modalImage) {
        modalImage.src = images[modalCurrentIndex];
      }
      
      if (imageCounter) {
        imageCounter.textContent = (modalCurrentIndex + 1).toString();
      }
    }

    function prevImage() {
      modalCurrentIndex = (modalCurrentIndex - 1 + images.length) % images.length;
      const modalImage = document.getElementById('modalImage') as HTMLImageElement;
      const imageCounter = document.getElementById('imageCounter');
      
      if (modalImage) {
        modalImage.src = images[modalCurrentIndex];
      }
      
      if (imageCounter) {
        imageCounter.textContent = (modalCurrentIndex + 1).toString();
      }
    }

    // Initialize gallery
    document.addEventListener('DOMContentLoaded', function() {
      // Add click handlers to gallery items
      const galleryItems = document.querySelectorAll('#galleryContainer > div');
      galleryItems.forEach((item, index) => {
        item.addEventListener('click', () => openModal(index));
      });

      // Add navigation button handlers
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      
      if (prevBtn) {
        prevBtn.addEventListener('click', prevSlide);
      }
      
      if (nextBtn) {
        nextBtn.addEventListener('click', nextSlide);
      }

      // Modal navigation handlers
      const closeModalBtn = document.getElementById('closeModalBtn');
      const modalPrevBtn = document.getElementById('modalPrevBtn');
      const modalNextBtn = document.getElementById('modalNextBtn');
      
      if (closeModalBtn) {
        closeModalBtn.addEventListener('click', closeModal);
      }
      
      if (modalPrevBtn) {
        modalPrevBtn.addEventListener('click', prevImage);
      }
      
      if (modalNextBtn) {
        modalNextBtn.addEventListener('click', nextImage);
      }

      // Keyboard navigation
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeModal();
        }
        
        // Only handle arrow keys when modal is open
        const imageModal = document.getElementById('imageModal');
        if (imageModal && !imageModal.classList.contains('hidden')) {
          if (e.key === 'ArrowLeft') {
            e.preventDefault();
            prevImage();
          } else if (e.key === 'ArrowRight') {
            e.preventDefault();
            nextImage();
          }
        }
      });

      // Close modal on click outside
      const imageModal = document.getElementById('imageModal');
      if (imageModal) {
        imageModal.addEventListener('click', function(e) {
          if (e.target === this) {
            closeModal();
          }
        });
      }
    });
  </script>
</section> 