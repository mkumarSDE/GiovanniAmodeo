---
// No script needed
---

<section id="testimonial" class="py-16 md:py-20 bg-gradient-to-br from-gray-50 to-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6">
    <div class="text-center mb-12 md:mb-16">
      <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4 md:mb-6 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
        Trusted By
      </h2>
      <p class="text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed font-medium px-4">
        What people I've worked with have to say about their experience
      </p>
    </div>

    <!-- Carousel Container -->
    <div class="carousel-container relative" x-data="testimonialCarousel()">
      <div class="carousel-wrapper"
           :style="`transform: translateX(-${current * 33.333}%);`"
           @mousedown="startDrag($event)" 
           @mousemove="onDrag($event)" 
           @mouseup="endDrag()"
           @touchstart="startSwipe($event)" 
           @touchmove="moveSwipe($event)" 
           @touchend="endSwipe($event)">
        
        <!-- Individual Testimonial Cards -->
        <template x-for="(testimonial, index) in testimonials" :key="index">
          <div class="testimonial-card flex-shrink-0 w-1/3 px-2 sm:px-4">
            <div class="bg-white rounded-2xl md:rounded-3xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-2 border border-gray-100 text-center h-full">
              <img :src="testimonial.image" :alt="testimonial.author" class="w-12 h-12 sm:w-16 sm:h-16 mx-auto rounded-full mb-3 sm:mb-4 object-cover shadow-lg" />
              <h4 class="font-bold text-base sm:text-lg text-gray-900 mb-2 sm:mb-3" x-text="testimonial.author"></h4>
              <p class="text-gray-700 leading-relaxed italic text-xs sm:text-sm" x-text="testimonial.quote"></p>
            </div>
          </div>
        </template>

      </div>

      <!-- Navigation Arrows at Bottom -->
      <div class="flex justify-center items-center space-x-3 sm:space-x-4 py-4 sm:py-6 mt-6 sm:mt-8">
        <button @click="prev()" class="bg-white rounded-full p-2 sm:p-3 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 border border-gray-200">
          <svg class="w-5 h-5 sm:w-6 sm:h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
          </svg>
        </button>
        
        <button @click="next()" class="bg-white rounded-full p-2 sm:p-3 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 border border-gray-200">
          <svg class="w-5 h-5 sm:w-6 sm:h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Trusted By Companies Section -->
    <div class="overflow-hidden relative mt-8 sm:mt-12">
      <div class="trusted-track flex items-center gap-8 sm:gap-16 px-4 sm:px-6">
        <!-- Repeat this group of logos twice for seamless loop -->
        <div class="flex items-center gap-8 sm:gap-16 shrink-0">
          <img src="/company1.svg" alt="Company 1" class="trusted-logo" />
          <img src="/company2.svg" alt="Company 2" class="trusted-logo" />
          <img src="/company3.svg" alt="Company 3" class="trusted-logo" />
          <img src="/company4.svg" alt="Company 4" class="trusted-logo" />
        </div>
        <div class="flex items-center gap-8 sm:gap-16 shrink-0">
          <img src="/company1.svg" alt="Company 1" class="trusted-logo" />
          <img src="/company2.svg" alt="Company 2" class="trusted-logo" />
          <img src="/company3.svg" alt="Company 3" class="trusted-logo" />
          <img src="/company4.svg" alt="Company 4" class="trusted-logo" />
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Ensure the carousel is responsive */
  .carousel-container {
    position: relative;
    overflow: hidden;
  }

  .carousel-wrapper {
    display: flex;
    transition: transform 0.5s ease;
  }

  .testimonial-card {
    flex-shrink: 0;
    width: 33.333%;
    padding: 0 8px;
  }

  /* Handle responsive grid */
  @media (max-width: 768px) {
    .testimonial-card {
      width: 50%;
    }
    .carousel-wrapper {
      transform: translateX(-50%);
    }
  }

  @media (max-width: 480px) {
    .testimonial-card {
      width: 100%;
    }
    .carousel-wrapper {
      transform: translateX(-100%);
    }
  }

  .trusted-track {
    width: max-content;
    animation: scroll-left 30s linear infinite;
  }

  @keyframes scroll-left {
    0% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .trusted-track:hover {
    animation-play-state: paused;
  }

  .trusted-logo {
    height: 32px;
    opacity: 0.8;
    transition: opacity 0.3s ease;
  }

  @media (min-width: 640px) {
    .trusted-logo {
      height: 48px;
    }
  }

  .trusted-logo:hover {
    opacity: 1;
  }
</style>

<!-- Alpine Component Script -->
<script is:inline>
  function testimonialCarousel() {
    const all = [
      {
        quote: "Giovanni was an excellent MC for our Investors Day. He helped curating the agenda, moderated the panels making sure the conversations were engaging and insightful. His charism and presence on stage were a key factor for the success of our event",
        author: "Andrea Costantini, Founder of SMART Capital",
        image: "https://randomuser.me/api/portraits/men/90.jpg"
      },
      {
        quote: "I really enjoyed the discussion with Giovanni around trends in private capital. Giovanni showed knowledge of the topic, he asked thoughtful questions and made the podcast a pleasant experience.",
        author: "Michael Schulmann, Running Point Capital",
        image: "https://randomuser.me/api/portraits/men/28.jpg"
      },
      {
        quote: "A first-rate conversation—smart questions that let us unpack how private placement life insurance (PPLI) supercharges private deals. Easily one of the most useful half-hours I've spent behind a mic.",
        author: "Michael Schulmann, Running Point Capital",
        image: "https://randomuser.me/api/portraits/men/28.jpg"
      },
      {
        quote: "High-signal, zero fluff. We covered alternative deal flow, due-diligence stories, and why PPLI is the best-kept secret for high-net-worth families—all in under an hour.",
        author: "Michael Schulmann, Running Point Capital",
        image: "https://randomuser.me/api/portraits/men/28.jpg"
      },
      {
        quote: "The dialogue was sharp, informed, and refreshingly practical. If you want the inside track on private markets and efficient structuring, start with this episode.",
        author: "Michael Schulmann, Running Point Capital",
        image: "https://randomuser.me/api/portraits/men/28.jpg"
      },
      {
        quote: "I walked in expecting the usual talking-points; I left impressed by the depth we reached on portfolio construction and PPLI. A must-listen for serious allocators and families.",
        author: "Michael Schulmann, Running Point Capital",
        image: "https://randomuser.me/api/portraits/men/28.jpg"
      },
      {
        quote: "I really enjoyed my conversation with Giovanni, covering alternatives and digging into Australian and offshore private credit. Giovanni's insights into strategies, risk management, and trends were invaluable.",
        author: "Kyle Lydbury, Perpetual",
        image: "https://randomuser.me/api/portraits/men/35.jpg"
      },
      {
        quote: "I really enjoyed Giovanni's thoughtful questions which shows he understands the private capital space. The conversation was always engaging and flowing smoothly.",
        author: "Deborah Shire, AXA IM",
        image: "https://randomuser.me/api/portraits/women/25.jpg"
      },
      {
        quote: "Giovanni has a great and engaging way to conduct interviews. I really enjoyed the podcast!",
        author: "Maria Sanz, Co-Head Private Equity, YIELCO",
        image: "https://randomuser.me/api/portraits/women/60.jpg"
      },
      {
        quote: "Giovanni is an excellent host. His questions are always engaging and thought provoking—we discussed the evolution of private assets in a compelling way.",
        author: "Alan McKnight, CIO, Regions Asset Management",
        image: "https://randomuser.me/api/portraits/men/55.jpg"
      },
      {
        quote: "Great discussion with Giovanni about fund formation. I enjoyed the thoughtful questions and his gentle inquisitive style that made the discussion engaging.",
        author: "Ron Geffner, Partner, Sadis & Goldberg LLP",
        image: "https://randomuser.me/api/portraits/men/52.jpg"
      },
      {
        quote: "Despite five strong guests, Giovanni got the best out of us on the panel with his thoughtful and provoking questions. Humble and inquisitive moderator.",
        author: "Nicole Kidd, Managing Director at Schroders RF",
        image: "https://randomuser.me/api/portraits/women/31.jpg"
      },
      {
        quote: "Giovanni is a very charismatic moderator. He created great rapport during our fireside chat and helped surface meaningful CEO insights. A great experience!",
        author: "Joseph Healy, Founder of Malu Health, ex-CEO Judo Bank",
        image: "https://randomuser.me/api/portraits/men/48.jpg"
      },
      {
        quote: "Giovanni has been an engaging keynote speaker at our M&A Research Centre, and a valued contributor to our Advisory Board for over 15 years.",
        author: "Scott Moeller, Bayes Business School",
        image: "https://randomuser.me/api/portraits/men/75.jpg"
      },
      {
        quote: "Giovanni has helped me understand the power of communication. His public speaking coaching is essential for any executive who wants real impact.",
        author: "Masha Blinova, Co-Founder, Leaders First",
        image: "https://randomuser.me/api/portraits/women/85.jpg"
      },
      {
        quote: "Giovanni mentored me over 10 years as I built Leaders First. His strategic input helped refine our brand, grow our community and elevate our communication.",
        author: "Masha Blinova, Co-Founder, Leaders First",
        image: "https://randomuser.me/api/portraits/women/85.jpg"
      }
    ];

    return {
      current: 0,
      testimonials: all,
      next() {
        this.current = (this.current + 1) % this.testimonials.length;
      },
      prev() {
        this.current = (this.current - 1 + this.testimonials.length) % this.testimonials.length;
      },
      // Touch and Mouse Swipe functionality
      isDragging: false,
      startX: 0,
      moveX: 0,
      startDrag(event) {
        this.isDragging = true;
        this.startX = event.clientX || event.touches[0].clientX;
      },
      onDrag(event) {
        if (this.isDragging) {
          this.moveX = (event.clientX || event.touches[0].clientX) - this.startX;
        }
      },
      endDrag() {
        if (this.isDragging) {
          if (this.moveX > 50) {
            this.prev();
          } else if (this.moveX < -50) {
            this.next();
          }
          this.isDragging = false;
          this.moveX = 0;
        }
      },
      startSwipe(event) {
        this.isDragging = true;
        this.startX = event.touches[0].clientX;
      },
      moveSwipe(event) {
        if (this.isDragging) {
          this.moveX = event.touches[0].clientX - this.startX;
        }
      },
      endSwipe() {
        if (this.isDragging) {
          if (this.moveX > 50) {
            this.prev();
          } else if (this.moveX < -50) {
            this.next();
          }
          this.isDragging = false;
          this.moveX = 0;
        }
      }
    };
  }
</script>
